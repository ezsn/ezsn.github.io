<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ezcex</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet">
</head>
<body>
<div class="container my-5">
    <center>
        <h4>EZSN PROJECT</h4>
        <p>Hanya untuk mengisi waktu luang, mohon project saya tidak untuk diperjual belikan</p>
        <hr>
    </center>
    <h5>EZCEX</h5>
    <p>Indonesia Cloudstream Extension</p>
    <p>
        <b>Bagaimana cara menambahkan ke Cloudstream?</b>
        <ul style="list-style-type: disc;">
          <li>Buka apk Cloudstream</li>
          <li>Pengaturan</li>
          <li>Ekstensi / Extension</li>
          <li>Tambah Repository</li>
          <li>Nama Arsip, isi bebas, contoh "ezcex"</li>
          <li>Url Arsip atau Kode Pendek, isi (Pilih salah satu dibawah)</li>
          <li>Terakhir, tinggal unduh plugin yang mau dipakai.</li>
        </ul>
    </p>
    <p>Kode Pendek</p>
    <div class="input-group mb-3 align-items-start">
        <input type="text" id="shortcode" class="form-control" value="ezcex" readonly disabled>
        <button onclick="copy('shortcode')" class="btn btn-secondary" type="button">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Edit / Copy"> <path id="Vector" d="M9 9V6.2002C9 5.08009 9 4.51962 9.21799 4.0918C9.40973 3.71547 9.71547 3.40973 10.0918 3.21799C10.5196 3 11.0801 3 12.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07967 21.0002 6.19978V11.7998C21.0002 12.9199 21.0002 13.48 20.7822 13.9078C20.5905 14.2841 20.2839 14.5905 19.9076 14.7822C19.4802 15 18.921 15 17.8031 15H15M9 9H6.2002C5.08009 9 4.51962 9 4.0918 9.21799C3.71547 9.40973 3.40973 9.71547 3.21799 10.0918C3 10.5196 3 11.0801 3 12.2002V17.8002C3 18.9203 3 19.4801 3.21799 19.9079C3.40973 20.2842 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H11.8036C12.9215 21 13.4805 21 13.9079 20.7822C14.2842 20.5905 14.5905 20.2839 14.7822 19.9076C15 19.4802 15 18.921 15 17.8031V15M9 9H11.8002C12.9203 9 13.4801 9 13.9079 9.21799C14.2842 9.40973 14.5905 9.71547 14.7822 10.0918C15 10.5192 15 11.079 15 12.1969L15 15" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g></svg>
        </button>
    </div>
    <p>Url Arsip</p>
    <div class="input-group mb-3 align-items-start">
        <input type="text" id="url" class="form-control" value="https://raw.githubusercontent.com/ezsn/ezsn.github.io/refs/heads/main/repo.json" readonly disabled>
        <button onclick="copy('url')" class="btn btn-secondary" type="button">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Edit / Copy"> <path id="Vector" d="M9 9V6.2002C9 5.08009 9 4.51962 9.21799 4.0918C9.40973 3.71547 9.71547 3.40973 10.0918 3.21799C10.5196 3 11.0801 3 12.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07967 21.0002 6.19978V11.7998C21.0002 12.9199 21.0002 13.48 20.7822 13.9078C20.5905 14.2841 20.2839 14.5905 19.9076 14.7822C19.4802 15 18.921 15 17.8031 15H15M9 9H6.2002C5.08009 9 4.51962 9 4.0918 9.21799C3.71547 9.40973 3.40973 9.71547 3.21799 10.0918C3 10.5196 3 11.0801 3 12.2002V17.8002C3 18.9203 3 19.4801 3.21799 19.9079C3.40973 20.2842 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H11.8036C12.9215 21 13.4805 21 13.9079 20.7822C14.2842 20.5905 14.5905 20.2839 14.7822 19.9076C15 19.4802 15 18.921 15 17.8031V15M9 9H11.8002C12.9203 9 13.4801 9 13.9079 9.21799C14.2842 9.40973 14.5905 9.71547 14.7822 10.0918C15 10.5192 15 11.079 15 12.1969L15 15" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g></svg>
        </button>
    </div>
    <p>Daftar Plugin</p>
    <table id="pluginTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Version</th>
                <th>Size (KB)</th>
                <th>Language</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<!-- JQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<!-- Bootstrap Bundle JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

<script>
function copy(id) {
    const input = document.getElementById(id);
    navigator.clipboard.writeText(input.value).then(() => {
        alert("Teks disalin: " + input.value);
    }).catch((err) => {
        alert("Gagal menyalin teks");
        console.error('Error:', err);
    });
}
</script>


<script>
// Status Mapping
function getStatusLabel(status) {
    switch(status) {
        case 0: return '<span class="badge bg-danger">Down</span>';
        case 1: return '<span class="badge bg-success">Ok</span>';
        case 2: return '<span class="badge bg-warning text-dark">Slow</span>';
        default: return '<span class="badge bg-secondary">Unknown</span>';
    }
}

$(document).ready(function() {
    $.getJSON("plugins.json", function(data) {
        const tableBody = $('#pluginTable tbody');
        data.forEach(item => {
            const row = `
                <tr>
                    <td>${item.name}</td>
                    <td>${item.version}</td>
                    <td>${(item.fileSize / 1024).toFixed(2)}</td>
                    <td>${item.language.toUpperCase()}</td>
                    <td>${getStatusLabel(item.status)}</td>
                </tr>
            `;
            tableBody.append(row);
        });
        $('#pluginTable').DataTable();
    }).fail(function() {
        alert("Gagal memuat plugins.json");
    });
});
</script>
</body>
</html>